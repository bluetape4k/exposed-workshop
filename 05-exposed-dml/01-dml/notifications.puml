@startuml
actor User
participant "API Gateway" as APIG
participant "Notification Dispatcher" as DISPATCHER
queue "Kafka Queue" as QUEUE
participant "Notification Worker (Push/SMS/Email)" as WORKER
database "Cassandra (Notification Logs)" as CASSANDRA

User -> APIG : 알림 요청 (캠페인 ID, 사용자 ID 등)
APIG -> DISPATCHER : 요청 전달
DISPATCHER -> QUEUE : 메시지 큐에 알림 저장
WORKER <- QUEUE : 워커가 큐에서 알림 수신
WORKER -> 외부 API : 알림 전송 (Firebase, Twilio 등)
WORKER -> CASSANDRA : 발송 결과 저장
@enduml
